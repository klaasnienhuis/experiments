<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <title>Annotations sync</title>
    <link rel="stylesheet" type="text/css" href="../styles/sketchfab.css">
    <link rel="stylesheet" type="text/css" href="style/app.css">
    <style type="text/css">
    body {
        font-family: "Helvetica Neue";
        font-weight: 200;
        line-height: 1.5;
    }
    .slides {
        position: absolute;
        left: 61.8%;
        top: 60px;
        width: 38.2%;
        height: calc(100% - 60px);
        overflow: auto;
        background: #ffffff;
    }
    .slide {
        position: absolute;
        box-sizing: border-box;
        width: 100%;
        padding: 30px;
        opacity: 0;
        -webkit-transition: opacity .5s;
        -moz-transition: opacity .5s;
        transition: opacity .5s;

        text-align: center;
    }
    .slide.active {
        opacity: 1;
    }
    </style>
</head>

<body>
    <header class="header">
        <h1 class="header--logo">
            <a href="../">
                <img src="../assets/sketchfab-logo.svg" alt="Sketchfab" width="120" class="header--image">
                <span>Labs Experiments</span>
            </a>
        </h1>
    </header>

<iframe src="" id="api-frame" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" width="640" height="480"></iframe>

<div class="slides">
    <div id="annotation-0" class="slide active">
        <img style="width: 100%; height: auto;" src="assets/00.jpg" alt="">
    </div>
    <div id="annotation-1" class="slide">
        <img style="width: 100%; height: auto;" src="assets/01.jpg" alt="">
        <p>
            A touchscreen interface makes it easier to use features like X-Ray, Goodreads, built-in dictionary, highlighting, and more. And with a glare-free screen that looks like real paper, you can read as easily in bright sunlight as in your living room
        </p>
    </div>
    <div id="annotation-2" class="slide">
        <p>
            Kindle does not require power to maintain a page of text, allowing you to read for weeks on a single charge.
        </p>
        <img style="width: 100%; height: auto;" src="assets/02.png" alt="">
    </div>
    <div id="annotation-3" class="slide">
        <img src="assets/03.jpg" alt="" style="width: 100%; height: auto;">
    </div>
    <div id="annotation-4" class="slide">
        <img src="assets/04.jpg" alt="" style="width: 100%; height: auto;">
        <p>Kindle weighs only 6.7 ounces (191 grams)</p>
    </div>
    <div id="annotation-5" class="slide">
        <img src="assets/05.jpg" alt="" style="width: 100%; height: auto;">
        <p>Words looked up in the dictionary are automatically added to Vocabulary Builder to expand your knowledge and reinforce retention. Swipe through your vocabulary words, quiz yourself with flashcards, and instantly see those words in context.</p>
    </div>
    <div id="annotation-6" class="slide">
        <img src="assets/06.png" alt="" style="width: 100%; height: auto;">
    </div>
    <div id="annotation-7" class="slide">
        <img src="assets/06.png" alt="" style="width: 100%; height: auto;">
    </div>
</div>

<script type="text/javascript" src="https://static.sketchfab.com/api/sketchfab-viewer-1.12.1.js"></script>

<script type="text/javascript">
        const iframe = document.getElementById('api-frame');
        const version = '1.12.1';
        const urlid = 'd6f31e3957a144a2ab23871a26373a2a';
        const client = new Sketchfab(version, iframe);
        let api;
        let currentAnnotation;

        const render = () => {
            if (currentAnnotation) {
                const current = 'annotation-' + currentAnnotation;
                document.querySelector('.slide.active').classList.remove('active');
                document.getElementById(current).classList.add('active');
            }
        };

        client.init(urlid, {
            autostart: 1,
            ui_infos: 0,
            ui_watermark: 0,
            ui_settings: 0,
            ui_vr: 0,
            ui_inspector: 0,
            ui_stop: 0,
            success: (apiClient) => {
                api = apiClient;
                api.addEventListener('viewerready', () => {
                        // Update the current annotation when the annotation changes
                        api.addEventListener('annotationSelect', (index) => {
                            currentAnnotation = 1 + index;
                            render();
                        });
                });
            },
            error: () => window.console.log('Error while initializing the viewer')
        });
</script>
</body>
</html>
